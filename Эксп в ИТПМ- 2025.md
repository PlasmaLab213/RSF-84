

# ESP details
Описание работы устройств при подавлении квазистационарными вихрями неустойчивости.На источник возмущений и актуатор подается сигнал с частотой 5-10Гц (синус или меандр).  На источнике задается случайное распределение амплитуды сигнала (фаза совпадает!!). АЦП (LCARD) пишет 32 канала с датчиков ( или один канал резервируем на такты). Оптимизатор в синхронном или асинхронном режиме получает последнее окно. Делает фазосинхронное осреднение (например, берет данные в районе максимума за 10 периодов), строит профиль напряжения трения по размаху пластины. По профилю считает функцию ошибки  в той или иной норме, и использует ее в алгоритме градиентного спуска. На каждом шаге выдает сигнал на актуаторы. Напряжение питания динамиков актуаторов должно быть промодулировано пропорционально выходу контроллера как $u_{act}=u-u_{DACshift}$ для компенсации сдвига ЦАП. 
 Альтернативный вариант:  АЦП пишет сигнал с одного из каналов источника возмущений (например, через захват частоты). Тогда просто все каналы модуля умножают этот сигнал на коэф. (есть пот. проблемы с разрядностью)

# **Постановка эксперимента** 
 ![[scheme.pdf]]
 Для проведения эксперимента используем два источника возмущений. размерностью 32 (?) канала. Оба источника работают в фазированном периодическом режиме, создавая возмущения на фиксированной частоте в 5-10Гц. Пространственное разрешение источников по размаху пластины- не хуже 0.25 длины волны наиболее усиливающихся возмущений.
 Первый источник (act1) используется для создания квазистационарных вихрей неустойчивости в пограничном слое. Он устанавливается на любом удобном расстоянии от кромки ниже точки потери устойчивости для наиболее усиливающейся моды. 
 Второй актуатор (act2) служит для управления. Его назначение- внести в пограничный слой такие возмущения, чтобы минимизировать величину модуляции сигнала на сенсоре. Место установки-  как можно ближе к act1, чтобы минимизировать мощность сигнала.
 Сенсор 1 размерностью 32 канала (или сколько наберем) используется для обратной связи.  и представляет собой пленку с линейкой поверхностных термоанемометрических датчиков, параллельную передней кромке. Датчики опрашиваются многоканальным АЦП LCARD E14-440  в оконном режиме (сигнал 1). Записанные окна обрабатываются в MATLAB и используются для вычисления функции ошибки вритме градиентного спуска алго.
 Сигнал управления, вычисленный на каждом шаге алгоритма, передается в ESP по WiFi. 
 Одновременно в модуль передается синус с генератора 1 либо сигнал тактирования. В модуле реализуется амплитудная модуляция этого сигнала вектором управляющих напряжений.
Описанный подход предполагает доработку кода модуля. 

 Альтернатива- сделать модуляцию синусоидального сигнала после модуля (независимо по 32 каналам). Тогда код модуля не изменяется.

Контроль качества управления и оценка длины затягивания перехода выполняется дополнительным однониточным датчиком или тепловизором.

# **Предлагаемый порядок проведения эксперимента**
 1. Прогрев, калибруем датчики. Если проблема с калибровкой не будет решена, делаем вектор поправочных множителей, поочередно возбуждая пограничный слой с источника act1, каналы которого предполагаются идентичными.
 2. Линейная идентификация системы. Снимаем матрицу передаточных функций от актуатора 2 до сенсора. 
 3. Управление. Подаем синусоидальные сигналы со случайным распределением амплитуд на актуатор1. Записываем сигнал. решаем переопределенную систему и находим оптимальный вектор управления в линейном приближении.
 4. Управление с обратной связью. Запускаем систему с начальным приближением, найденным из линейной системы. Алгоритмом градиентного спуска находим минимум модуляции скорости
 5. Измерения повторяем для нескольких режимов. Варьируем: амплитуду возмущений на первом актуаторе, спектр (локальный выдув/ широкая полоска). Диапазон изменения амплитуды должен обеспечивать линейный и нелинейный режим развития возмущений на сенсоре 1.
 6. Диагностика перехода: для всех режимов после нахождения оптимума проходим датчиком скан в плоскости пластины. Параметры скана должны обеспечить по меньшей мере грубую идентификацию перехода. Если есть возможность быстрее получить информацию о линии перехода в контроле и при управлении (по панорамной визуализации), можно использовать использовать ее, затем подтверждая результаты термометрическими измерениями (мы так делаем у себя- PIV, потом термоанемометр).
